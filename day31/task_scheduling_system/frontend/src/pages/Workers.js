import React, { useState, useEffect } from "react"; export default function Workers() { const [workers, setWorkers] = useState([]); useEffect(() => { fetch("/api/workers").then(res => res.json()).then(data => setWorkers(data)); }, []); return (<div><h2>Workers</h2><table style={{width: "100%", borderCollapse: "collapse"}}><thead><tr style={{background: "#f8f9fa"}}><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Name</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Status</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Current Tasks</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Max Tasks</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Last Heartbeat</th></tr></thead><tbody>{workers.map(worker => (<tr key={worker.id}><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{worker.name}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{worker.status}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{worker.current_tasks}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{worker.max_concurrent_tasks}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{new Date(worker.last_heartbeat).toLocaleString()}</td></tr>))}</tbody></table></div>); }
