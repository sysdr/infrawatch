import React, { useState, useEffect } from "react"; export default function Tasks() { const [tasks, setTasks] = useState([]); useEffect(() => { fetch("/api/tasks").then(res => res.json()).then(data => setTasks(data)); }, []); return (<div><h2>Tasks</h2><div style={{marginBottom: "1rem"}}><a href="/tasks/create" style={{background: "#007cba", color: "white", padding: "0.5rem 1rem", textDecoration: "none", borderRadius: "4px"}}>Create New Task</a></div><table style={{width: "100%", borderCollapse: "collapse"}}><thead><tr style={{background: "#f8f9fa"}}><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Name</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Function</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Schedule</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Priority</th><th style={{padding: "0.5rem", border: "1px solid #ddd"}}>Status</th></tr></thead><tbody>{tasks.map(task => (<tr key={task.id}><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{task.name}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{task.task_function}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{task.cron_expression}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{task.priority}</td><td style={{padding: "0.5rem", border: "1px solid #ddd"}}>{task.is_active ? "Active" : "Inactive"}</td></tr>))}</tbody></table></div>); }
